- #http://www.emailonacid.com/blog/details/C13/doctype_-_the_black_sheep_of_html_email_design
!!! strict

%html{ xmlns: "http://www.w3.org/1999/xhtml" }
  %head
    %title= yield_content(:title)
    %meta{ :"http-equiv" => "Content-Type", content: "text/html; charset=utf-8" }
    %meta{ name: "viewport", content: "width=device-width, initial-scale=1.0" }
    = partial "/partials/styles"
  %body

    - #Wrapper/Container Table: Use a wrapper table to control the width and the background color consistently of your email. Use this approach instead of setting attributes on the body tag as the body tag gets stripped in Gmail.
    %table{ bgcolor: "#FFFFFF", cellpadding: 0, cellspacing: 0, style: @font__copy, width: "100%" }

      - #Create a hidden row with some short text that will appear in mail previews (like in list of incoming emails). Is hidden from mail view.
      %tr
        %td{ align: "center" }
          %div{ style: "font-size:0pt; line-height:0pt; height:0pt;" }
            %span{ style: "font-size: 1px; line-height: 1px; display: none;" }= yield_content(:client_preview)

      %tr
        %td{ align: "center", style: "padding-left: 10px; padding-right: 10px;" }
          - #Content Container
          %table.mob-full-width{ cellpadding: 0, cellspacing: 0, width: 880 }
            = vertical_padding(60, "mob-height-30")
            - #Logo Row
            %tr
              %td{ align: "center" }
                %table.mob-auto-width{ cellpadding: 0, cellspacing: 0, width: "100%" }
                  %tr
                    %td.mob-auto-width{ align: "center", width: 175 }
                    %td{ align: "left" }
                      = link_to "http://www.mfa.gr/usa/en//" do
                        = email_image("https://gallery.mailchimp.com/6cb2d297ff616984b41ff4bae/images/logo.gif", "Embassy Of Greece", 215, 67)
            = vertical_padding(40, "mob-height-20")
            - #Title Row
            %tr
              %td.mob-heading-1{ align: "right", style: "#{@font__heading_1}" }
                Greece In America
            = vertical_padding(10)
            - #Newsletter Issue Row
            %tr
              %td{ align: "right" }
                %table{ cellpadding: 0, cellspacing: 0, width: 300 }
                  %tr
                    %td{ align: "right", style: "#{@font__heading_3} line-height:1em;", valign: "top" }
                      NEWSLETTER
                    %td{ align: "right", rowspan: 4, width: 5 }
                    %td{ align: "right", rowspan: 4, style: "background: #{@color__blue__dark};", width: 3 }
                  = vertical_padding(15, "mob-height-10")
                  %tr
                    %td{ align: "right", style: "#{@font__heading_4} line-height:1em;", valign: "top" }
                      - #Use one line string for spacing issues
                      = "March/April 2014<br/>Issue 5"
                  = vertical_padding(30, "mob-height-20")
            = vertical_padding(50, "mob-height-20")

            - #2 COLUMNS START HERE
            %tr
              %td{ align: "center" }

                - #CONTENT
                %table.mob-full-width{ align: "right", cellpadding: 0, cellspacing: 0, style: "float: right;", width: 630 }
                  %tr
                    %td{ align: "left" }
                      = yield

                - #SIDEBAR
                = partial "/partials/sidebar"

            %tr
              %td{ align: "center", style: "#{@font__note}" }
                Copyright Â© 2014 Embassy of Greece All rights reserved.
                %br
                = link_to "Unsubscribe from this list", "#", style: "color: #{@color__blue}; text-decoration: none;"
                |
                = link_to "Update subscription preferences", "#", style: "color: #{@color__blue}; text-decoration: none;"
            = vertical_padding(20)